<link rel="import" href="../h5tk-elements.html">
<dom-module id="h5tk-app">
  <template>
<iron-ajax
	id="firebase"
	method="post"
  auto
  url="https://html5-toolkit.firebaseio.com/"
  handleas="json"
  on-response="handleResponse"
  verbose="true"></iron-ajax>

        <h3>My Firebase Data</h3>

  </template>
<template is="dom-repeat" items="{{key in keys}}">
  <p>{{key}}: {{data[key]}}</p>
</template>
</dom-module>

<script type="text/javascript">

  Polymer({
    is: 'h5tk-app',
    properties: {
    	firebase:{type:Object},
      data:{ 
      	type: Object, 
      	observer: "dataChanged", 
      	notify:true
      },
      keys:{
      	type: Array
      },
      handleResponse:{
      	type:Object,
      	value:"handleResponse"
      }
    },
    ready: function(){ 
        console.log("ready"); 
       // this.innerHTML = "<h1>Hello 0.8</h1>";
    },
	  handleResponse:function(data){ 
	        console.log("handleResponse.");
	        console.log(data);
	    }
  });
</script>